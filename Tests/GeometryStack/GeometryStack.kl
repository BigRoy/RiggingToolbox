
require RiggingToolbox;

operator entry(){
   	
   	GeometryStack stack();
   	PolygonMeshSphereGenerator sphereGenerator(2.0, 2, true, true);
   	PushDeformer pushDeformer(3.0);
   	sphereGenerator.enableCaching = true;
   	stack.addGeometryOperator(sphereGenerator);
   	stack.addGeometryOperator(pushDeformer);
   	stack.initCachePoints();
   	stack.disableCachePoint(1);

    EvalContext context();
    {
	    Geometry geometries[] = stack.evaluate(context);

	    report("NumGeometries:" + geometries.size);
	    for(Integer i=0; i<geometries.size; i++){
	        report(geometries[i].getDesc(true, true));
	    }
	}
	{
	    Geometry geometries[] = stack.evaluate(context);

	    report("NumGeometries:" + geometries.size);
	    for(Integer i=0; i<geometries.size; i++){
	        report(geometries[i].getDesc(true, true));
	    }
	}
}

