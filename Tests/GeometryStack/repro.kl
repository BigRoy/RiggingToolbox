
require RiggingToolbox;

operator entry(){

  GeometryStack stack();

  AlembicSkinnedMeshGeometryGenerator alembicGenerator();
  SkinningModifier skiningModifier();
  stack.addGeometryOperator(alembicGenerator);
  stack.addGeometryOperator(skiningModifier);

  alembicGenerator.setFilePath("${FABRIC_RIGGINGTOOLBOX_PATH}/Tests/GeometryStack/Resources/skinnedTube.abc");

  String geometryNames[];
  geometryNames.push("pCylinderShape1");
  alembicGenerator.setGeometryNames(geometryNames);

  EvalContext context();
  // If you comment out the following line you will no longer get the redzone violation
  GeometrySet geomSet = stack.evaluate(context);

  report("Done:");
}

